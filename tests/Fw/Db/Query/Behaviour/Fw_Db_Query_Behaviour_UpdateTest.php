<?php

/**
 * Test class for Fw_Db_Query_Behaviour.
 * Generated by PHPUnit on 2011-11-23 at 02:06:43.
 */
class Fw_Db_Query_Behaviour_UpdateTest extends PHPUnit_Framework_TestCase {

	/**
	 * @var Fw_Db_Query
	 */
	protected $object;

	/**
	 * 
	 */
	protected function setUp() {
		$this->object = Fw_Db::i()->query()->update();
	}

	/**
	 * 
	 */
	protected function tearDown() {
		
	}

	public function testSql() {
		$update = $this->object->from('table_name')->values(array('a' => 2, 'b' => 1))->getBehaviour();
		$this->assertEquals('UPDATE `table_name` SET `a` = ?, `b` = ?', $update->sql);
		$this->assertEquals(array(2, 1), $update->binds);
	}

	public function testSqlWhere() {
		$update = $this->object->from('table_name')->values(array('a' => 2, 'b' => 1))->where('a = ?', 100500)->getBehaviour();
		$this->assertEquals('UPDATE `table_name` SET `a` = ?, `b` = ? WHERE (a = ?)', $update->sql);
		$this->assertEquals(array(2, 1, 100500), $update->binds);
	}

}